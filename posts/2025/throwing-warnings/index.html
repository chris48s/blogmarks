<!DOCTYPE html>
<html prefix="        og: http://ogp.me/ns# article: http://ogp.me/ns/article#     " vocab="http://ogp.me/ns" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>Throwing warnings as if they are exceptions | Blogmarks</title>
<link href="../../../assets/css/baguetteBox.min.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/rst_base.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/nikola_rst.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/theme.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/custom.css" rel="stylesheet" type="text/css">
<link href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" rel="stylesheet">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../../../rss.xml">
<link rel="canonical" href="https://chris48s.github.io/blogmarks/posts/2025/throwing-warnings/">
<!--[if lt IE 9]><script src="../../../assets/js/html5shiv-printshiv.min.js"></script><![endif]--><meta name="author" content="chris48s">
<link rel="prev" href="../masto-host-behind-cloudflare/" title="Running masto.host behind CloudFlare" type="text/html">
<link rel="next" href="../../2026/cherry-pick-range/" title="Cherry-picking a range of commits in git" type="text/html">
<meta property="og:site_name" content="Blogmarks">
<meta property="og:title" content="Throwing warnings as if they are exceptions">
<meta property="og:url" content="https://chris48s.github.io/blogmarks/posts/2025/throwing-warnings/">
<meta property="og:description" content="Sometimes a warning is logged from third-party code in a way that doesn't make it clear where the problem is in your own code. For example, today I was trying to track down the cause of this:
.venv/li">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2025-11-05T00:00:00Z">
<meta property="article:tag" content="python">
<meta property="article:tag" content="testing">
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "Throwing warnings as if they are exceptions",
    "url": "https://chris48s.github.io/blogmarks/posts/2025/throwing-warnings/",
    "description": "",
    "author": {
        "@type": "Person",
        "name": "chris48s"
    },
    "mainEntityOfPage": "https://chris48s.github.io/blogmarks/posts/2025/throwing-warnings/",
    "datePublished": "2025-11-05",
    "dateCreated": "2025-11-05",
    "dateModified": "2025-11-05"
}
</script>
</head>
<body>
    <a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>
    <div id="container">
        
    <header id="header"><h1 id="brand"><a href="../../../" title="Blogmarks" rel="home">

        <span id="blog-title">Blogmarks</span>
    </a></h1>

        

        
    <nav id="menu"><ul>
<li><a href="../../../rss.xml">RSS feed</a></li>
                <li><a href="../../../categories/">Tags</a></li>

    

    
    
    </ul></nav></header><main id="content"><article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Throwing warnings as if they are exceptions</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    chris48s
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2025-11-05T00:00:00Z" itemprop="datePublished" title="2025-11-05">2025-11-05</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>Sometimes a warning is logged from third-party code in a way that doesn't make it clear where the problem is in your own code. For example, today I was trying to track down the cause of this:</p>
<div class="code"><pre class="code literal-block">.venv/lib/python3.12/site-packages/django/template/base.py:1047: RemovedInDjango50Warning: The "default.html" templates for forms and formsets will be removed. These were proxies to the equivalent "table.html" templates, but the new "div.html" templates will be the default from Django 5.0. Transitional renderers are provided to allow you to opt-in to the new output style now. See https://docs.djangoproject.com/en/4.2/releases/4.1/ for more details
</pre></div>

<p>I understand the message, but <code>.venv/lib/python3.12/site-packages/django/template/base.py</code> doesn't tell me where in my own codebase to look for the problem.</p>
<p>Today I learned that you can tell pytest (and indeed, python itself) to throw warnings as if they are an exception. So you can run</p>
<div class="code"><pre class="code literal-block">pytest<span class="w"> </span>-W<span class="w"> </span>error
</pre></div>

<p>to treat all warnings as if they are an exception, or something like</p>
<div class="code"><pre class="code literal-block">pytest<span class="w"> </span>-W<span class="w"> </span>error::django.utils.deprecation.RemovedInDjango50Warning
</pre></div>

<p>to only apply this behaviour to a particular class of warning.</p>
<p>Either way, this will give you a stacktrace from the point where the warning is logged which can give you some breadcrumbs to follow.</p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../../categories/python/" rel="tag">python</a></li>
            <li><a class="tag p-category" href="../../../categories/testing/" rel="tag">testing</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../masto-host-behind-cloudflare/" rel="prev" title="Running masto.host behind CloudFlare">Previous post</a>
            </li>
            <li class="next">
                <a href="../../2026/cherry-pick-range/" rel="next" title="Cherry-picking a range of commits in git">Next post</a>
            </li>
        </ul></nav></aside></article></main><footer id="footer"><p>
</p>
<p>Contents Â© 2026 chris48s</p>

<ul class="no-bullet">
<li>
    <i class="fab fa-github"></i>
    <a href="https://github.com/chris48s/" target="_blank">Github</a>
  </li>
  <li>
    <i class="fab fa-mastodon"></i>
    <a href="https://fed.chris-shaw.dev/@chris" target="_blank">Mastodon</a>
  </li>
</ul></footer>
</div>
    
            <script src="../../../assets/js/baguetteBox.min.js"></script><script>
    baguetteBox.run('main#content', {
        ignoreClass: 'islink',
        captions: function(element){var i=element.getElementsByTagName('img')[0];return i===undefined?'':i.alt;}});
    </script>
</body>
</html>
